<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style_old.css">

        <audio id="music1" loop >
            <source src="music/awesomemusic1.mp3" type="audio/mpeg">
        </audio>
        
        <audio id="music2" loop >
            <source src="music/awesomemusic2.mp3" type="audio/mpeg">
        </audio>
    
        <audio id="music3" loop>
            <source src="music/awesomemusic3.mp3" type="audio/mpeg">
        </audio>
    </head>
    <body id="body">
    <button id="button" color="black" style="background-color: black;">Click</button>
    <h1 id="webtitle">
        <div style="text-align: center;">
            <img src="XwI7.gif" height="50"> WELCOME TO <span id="serverText">MY AWESOME SERVER</span><img src="XwI7.gif" height="50">
        </div>
    </h1>
    <br>
    <br>
    <br>
    <h1>
        <div style="text-align: center;">
            <i></i> <span id="mapText">gm_construct</span>
            <br>
            <br>
            <br>
            <br>
            <h4>
                <span id="playersList">/ players \</span>
                <div style="text-align: center;" id="text-container"></div>
                <h6>(garry hasnt added a function to get playercounts)</h6>
                
            </h4>
            
            
        </div>
    </h1>
    <img src="fire.gif" id="gif2">
    <img src="fire.gif" id="gif3">
    <img src="coolsign.gif" id="gif4">
    <img src="bigswordt.gif" id="gif5">
    <hr color="blue" size="3">
    <br>
    <a href="https://www.zombo.com" id="textFake">CLICK HERE TO VISIT OUR WEBSITE!</a>
    <h1><div style="text-align: center; font-family: 'ComicSansI', sans-serif;" id="statusText"><h5>loading</h5></div></h1>
    <h1>
        <div style="text-align: center;"><span id="speenText">/</span></div>
    </h1>
    <img src="simulation.gif" width="420" height="250" id="gif">

    <!--id="outputText"-->
    <script>
        const mapElement = document.getElementById("mapText");
        const statusElement = document.getElementById("statusText");
        const speenElement = document.getElementById("speenText");

        const music1 = document.getElementById("music1");
        const music2 = document.getElementById("music2");
        const music3 = document.getElementById("music3");

        const button = document.querySelector("#button");

        music1.volume = 0.7;
        music2.volume = 0.4;
        music3.volume = 0.4;
            
        const container = document.getElementById("text-container");

        let inGame = false;

        function GameDetails( servername, serverurl, mapname, maxplayers, steamid, gamemode, volume, language ) {
            mapElement.textContent = mapname;
            if(Math.random(0,1) < 0.3) {
                    music1.play();
                } else if(Math.random(0,1) < 0.5){
                    music2.play();
                } else if(Math.random(0,1) < 0.2){
                    music3.play();
                } else{ music1.play(); }
        }

        function SetStatusChanged( status ) {
            statusElement.textContent = status;
        }
        function playMusic(){
            if(Math.random(0,1) < 0.3) {
                music1.play();
            } else if(Math.random(0,1) < 0.5){
                music2.play();
            } else if(Math.random(0,1) < 0.2){
                music3.play();
            } else{ music1.play(); }
        }
        if (!inGame){
            button.addEventListener("click", () => {
                playMusic();
            });    
        } else{
            button.remove()
        }

        function speen(){
            setInterval(function() {
                let content = speenElement.textContent
                if(content == "/") { speenElement.textContent = "--";}
                if(content == "--") { speenElement.textContent = "\\";}
                if(content == "\\") { speenElement.textContent = "/";}
                if(content == "|") { speenElement.textContent = "/";}
                // Your code to be executed repeatedly at the specified interval
            }, 300);
        }
        speen();

        // Create a for loop to add four text elements
        for (let i = 0; i < 4; i++) {
            // Create a new text element (e.g., a <p> element)
            const textElement = document.createElement("img");

            // Set the text content of the element
            textElement.id="player";
            textElement.height="70";
            textElement.src="missing.png";

            // Append the text element to the container
            container.appendChild(textElement);
        }
    </script>
    </body>
</html>